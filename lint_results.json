[{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\api\\_utility\\constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\api\\database.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\api\\finance\\config\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\api\\finance\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\api\\migration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\api\\profile\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\auth\\signin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\finances\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\app\\profile\\register\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Chart\\CustomLabel\\CustomLabel.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Chart\\CustomLabel\\CustomLabel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Chart\\CustomTooltip\\CustomTooltip.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Chart\\CustomTooltip\\CustomTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\AddNewPromoCard\\AddNewPromoCard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\AddNewPromoCard\\AddNewPromoCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\CategoryDistribution\\CategoryDistribution.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\CategoryDistribution\\CategoryDistribution.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\Dashboard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\Dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\DashboardCard\\DashboardCard.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[392,395],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[392,395],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen } from '@testing-library/react';\r\nimport { describe, it, expect, vi } from 'vitest';\r\nimport DashboardCard from './DashboardCard';\r\nimport * as ROOT_CONTEXT from \"@/context/RootContext\";\r\n\r\nvi.mock(\"@/context/RootContext\", () => ({\r\n    useRootContext: vi.fn(),\r\n}));\r\n\r\ndescribe('DashboardCard', () => {\r\n    const mockUseRootContext = ROOT_CONTEXT.useRootContext as any;\r\n\r\n    it('should render children', () => {\r\n        mockUseRootContext.mockReturnValue({ isMobile: false });\r\n        render(\r\n            <DashboardCard>\r\n                <div>Child Content</div>\r\n            </DashboardCard>\r\n        );\r\n        expect(screen.getByText(\"Child Content\")).toBeInTheDocument();\r\n    });\r\n\r\n    it('should render title if provided', () => {\r\n        mockUseRootContext.mockReturnValue({ isMobile: false });\r\n        render(\r\n            <DashboardCard title=\"My Card\">\r\n                <div>Content</div>\r\n            </DashboardCard>\r\n        );\r\n        expect(screen.getByText(\"My Card\")).toBeInTheDocument();\r\n    });\r\n\r\n    it('should apply mobile specific classes', () => {\r\n        mockUseRootContext.mockReturnValue({ isMobile: true });\r\n        const { container } = render(\r\n            <DashboardCard>\r\n                <div>Content</div>\r\n            </DashboardCard>\r\n        );\r\n        // On mobile, max-w-[50%] is NOT applied\r\n        expect(container.firstChild).not.toHaveClass(\"max-w-[50%]\");\r\n    });\r\n\r\n    it('should apply desktop specific classes', () => {\r\n        mockUseRootContext.mockReturnValue({ isMobile: false });\r\n        const { container } = render(\r\n            <DashboardCard>\r\n                <div>Content</div>\r\n            </DashboardCard>\r\n        );\r\n        // On desktop, max-w-[50%] IS applied\r\n        expect(container.firstChild).toHaveClass(\"max-w-[50%]\");\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\DashboardCard\\DashboardCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\DistributionChartTable\\DistributionChartTable.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\DistributionChartTable\\DistributionChartTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\MembersCard\\MembersCard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\MembersCard\\MembersCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\OwnerDistribution\\OwnerDistribution.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\OwnerDistribution\\OwnerDistribution.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\Summary\\Summary.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\Summary\\Summary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\WelcomeMessage\\WelcomeMessage.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Dashboard\\WelcomeMessage\\WelcomeMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\FinanceFormPopup\\FinanceFormPopup.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\FinanceFormPopup\\FinanceFormPopup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Footer\\Footer.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":88,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":91,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[487,490],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[487,490],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[877,880],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[877,880],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen } from '@testing-library/react';\r\nimport { describe, it, expect, vi } from 'vitest';\r\nimport Footer from './Footer';\r\nimport * as RootContext from '@/context/RootContext';\r\n\r\n// Mock the context hook\r\nvi.mock('@/context/RootContext', () => ({\r\n    useRootContext: vi.fn(),\r\n}));\r\n\r\ndescribe('Footer Component', () => {\r\n    it('should render desktop view correctly', () => {\r\n        vi.spyOn(RootContext, 'useRootContext').mockReturnValue({ isMobile: false } as any);\r\n        \r\n        render(<Footer />);\r\n        const currentYear = new Date().getFullYear();\r\n        expect(screen.getByRole('contentinfo')).toHaveTextContent(`Copyright © ${currentYear} Vishwajeet Kondi. All rights reserved.`);\r\n    });\r\n\r\n    it('should render mobile view correctly', () => {\r\n        vi.spyOn(RootContext, 'useRootContext').mockReturnValue({ isMobile: true } as any);\r\n        \r\n        render(<Footer />);\r\n        const currentYear = new Date().getFullYear();\r\n        // in mobile, text is split into two paragraphs\r\n        expect(screen.getByText(`Copyright © ${currentYear} Vishwajeet Kondi.`)).toBeInTheDocument();\r\n        expect(screen.getByText('All rights reserved.')).toBeInTheDocument();\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Footer\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Header\\Header.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[757,760],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[757,760],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1059,1062],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1059,1062],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1106,1109],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1106,1109],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1155,1158],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1155,1158],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, fireEvent } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport Header from './Header';\r\nimport * as RootContext from '@/context/RootContext';\r\nimport { useSession, signIn, signOut } from \"next-auth/react\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\n// Mock dependencies\r\nvi.mock('@/context/RootContext', () => ({\r\n    useRootContext: vi.fn(),\r\n}));\r\n\r\nvi.mock(\"next-auth/react\", () => ({\r\n    useSession: vi.fn(),\r\n    signIn: vi.fn(),\r\n    signOut: vi.fn(),\r\n}));\r\n\r\nvi.mock(\"next/navigation\", () => ({\r\n    usePathname: vi.fn(),\r\n}));\r\n\r\n// Mock Link since it's used\r\nvi.mock(\"next/link\", () => {\r\n    return {\r\n        default: ({ children, href, onClick, className }: any) => {\r\n            return (\r\n                <a href={href} onClick={onClick} className={className}>\r\n                    {children}\r\n                </a>\r\n            );\r\n        },\r\n    };\r\n});\r\n\r\ndescribe('Header Component', () => {\r\n    const mockUseRootContext = RootContext.useRootContext as any;\r\n    const mockUseSession = useSession as any;\r\n    const mockUsePathname = usePathname as any;\r\n\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n        mockUsePathname.mockReturnValue(\"/\");\r\n        mockUseRootContext.mockReturnValue({ isMobile: false });\r\n    });\r\n\r\n    it('should match the snapshot', () => {\r\n        mockUseSession.mockReturnValue({ data: null, status: \"unauthenticated\" });\r\n        const { asFragment } = render(<Header title=\"Test App\" />);\r\n        expect(asFragment()).toMatchSnapshot();\r\n    });\r\n\r\n    it('should render the title', () => {\r\n        mockUseSession.mockReturnValue({ data: null, status: \"unauthenticated\" });\r\n        render(<Header title=\"My Finance\" />);\r\n        expect(screen.getByText('My Finance')).toBeInTheDocument();\r\n    });\r\n\r\n    it('should render Sign In button when unauthenticated', () => {\r\n        mockUseSession.mockReturnValue({ data: null, status: \"unauthenticated\" });\r\n\r\n        render(<Header />);\r\n        expect(screen.getByText('Sign In')).toBeInTheDocument();\r\n        expect(screen.queryByText('Sign Out')).not.toBeInTheDocument();\r\n    });\r\n\r\n    it('should render Home, Finances, and Sign Out when authenticated', () => {\r\n        mockUseSession.mockReturnValue({ data: { user: { name: 'Test User' } }, status: \"authenticated\" });\r\n\r\n        render(<Header />);\r\n        expect(screen.getByText('Home')).toBeInTheDocument();\r\n        expect(screen.getByText('Finances')).toBeInTheDocument();\r\n        expect(screen.getByText('Sign Out')).toBeInTheDocument();\r\n        expect(screen.queryByText('Sign In')).not.toBeInTheDocument();\r\n    });\r\n\r\n    it('should call signIn when Sign In is clicked', () => {\r\n        mockUseSession.mockReturnValue({ data: null, status: \"unauthenticated\" });\r\n        render(<Header />);\r\n\r\n        fireEvent.click(screen.getByText('Sign In'));\r\n        expect(signIn).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should call signOut when Sign Out is clicked', () => {\r\n        mockUseSession.mockReturnValue({ data: { user: { name: 'Test User' } }, status: \"authenticated\" });\r\n        render(<Header />);\r\n\r\n        fireEvent.click(screen.getByText('Sign Out'));\r\n        expect(signOut).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should not render on /login page', () => {\r\n        mockUsePathname.mockReturnValue(\"/login\");\r\n        const { container } = render(<Header />);\r\n        expect(container).toBeEmptyDOMElement();\r\n    });\r\n\r\n    it('should show drawer toggle on mobile', () => {\r\n        mockUseRootContext.mockReturnValue({ isMobile: true });\r\n        mockUseSession.mockReturnValue({ data: null, status: \"unauthenticated\" });\r\n\r\n        render(<Header />);\r\n        expect(screen.getByLabelText('Open navigation menu')).toBeInTheDocument();\r\n    });\r\n\r\n    it('should toggle drawer on mobile', async () => {\r\n        mockUseRootContext.mockReturnValue({ isMobile: true });\r\n        mockUseSession.mockReturnValue({ data: null, status: \"unauthenticated\" });\r\n\r\n        render(<Header />);\r\n        const toggleButton = screen.getByLabelText('Open navigation menu');\r\n\r\n        // Open\r\n        fireEvent.click(toggleButton);\r\n        expect(screen.getByText('Sign In')).toBeInTheDocument(); // Drawer item\r\n\r\n        // Close via close button (rendered inside drawer when open)\r\n        // Note: The close button has text \"✕\", we can find by text or class. \r\n        // The implementation uses <button>✕</button>\r\n        const closeButton = screen.getByText('✕');\r\n        fireEvent.click(closeButton);\r\n\r\n        // Wait purely for state update if needed, but synchronous in React usually.\r\n        // However, if the menu items are hidden, we check if they are gone.\r\n        // In the implementation, if !isDrawerOpen, the drawer div is not rendered at all.\r\n        expect(screen.queryByText('✕')).not.toBeInTheDocument();\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Header\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Loader\\Loader.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\Loader\\Loader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\RootComponent\\RootComponent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TableControls.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TableControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TrackerTable.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[832,835],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[832,835],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[896,899],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[896,899],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, fireEvent } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport TrackerTable from './TrackerTable';\r\nimport * as RootContext from '@/context/RootContext';\r\nimport * as FinContext from '@/context/FinContext';\r\n\r\n// Mock contexts\r\nvi.mock('@/context/RootContext', () => ({\r\n    useRootContext: vi.fn(),\r\n}));\r\n\r\nvi.mock('@/context/FinContext', () => ({\r\n    useFinContext: vi.fn(),\r\n}));\r\n\r\n// Mock sub-components if desired, but we can stick to integration to verify columns\r\n// However, TableControls is complex, so maybe we want to verify it interacts correctly?\r\n// We will test if TrackerTable handles the sorting/filtering callbacks correctly.\r\n\r\ndescribe('TrackerTable Component', () => {\r\n    const mockUseRootContext = RootContext.useRootContext as any;\r\n    const mockUseFinContext = FinContext.useFinContext as any;\r\n\r\n    const mockShowFinanceForm = vi.fn();\r\n    const mockFinanceData = [\r\n        {\r\n            id: '1',\r\n            platform: 'Zerodha',\r\n            category: 'Stocks',\r\n            type: 'Equity',\r\n            owner: 'John',\r\n            investedAmount: 1000,\r\n            currentAmount: 1200,\r\n            updatedDate: '2023-01-01',\r\n        },\r\n        {\r\n            id: '2',\r\n            platform: 'Groww',\r\n            category: 'MF',\r\n            type: 'SIP',\r\n            owner: 'Jane',\r\n            investedAmount: 2000,\r\n            currentAmount: 1800,\r\n            updatedDate: '2023-01-02',\r\n        },\r\n    ];\r\n\r\n    // memberWiseData is used for colors\r\n    const mockMemberWiseData = [\r\n        { owner: 'John', fill: 'red' },\r\n        { owner: 'Jane', fill: 'blue' },\r\n    ];\r\n\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n        mockUseRootContext.mockReturnValue({\r\n            showFinanceForm: mockShowFinanceForm,\r\n            isMobile: false,\r\n            loader: { show: false },\r\n        });\r\n        mockUseFinContext.mockReturnValue({\r\n            financeData: mockFinanceData,\r\n            memberWiseData: mockMemberWiseData,\r\n        });\r\n    });\r\n\r\n    it('should render empty state when no data', () => {\r\n        mockUseFinContext.mockReturnValue({ financeData: [], memberWiseData: [] });\r\n        render(<TrackerTable />);\r\n        // Assuming TrackerTableEmptyState renders some text like \"No data found\" or \"Get started\"\r\n        // Let's check for something generic if we don't know exact text, or we can check what TrackerTableEmptyState renders.\r\n        // Or cleaner: import and mock TrackerTableEmptyState. \r\n        // For now, let's assume it renders a specific message \"No finance records found\" or we check behavior.\r\n        // Actually the code says: if ((!financeData || financeData.length === 0) && !loading) return <TrackerTableEmptyState />;\r\n        // We will just verify the table is not there.\r\n        expect(screen.queryByRole('table')).not.toBeInTheDocument();\r\n    });\r\n\r\n    it('should render table with data on desktop', () => {\r\n        render(<TrackerTable />);\r\n\r\n        expect(screen.getByRole('table')).toBeInTheDocument();\r\n        expect(screen.getAllByRole('row')).toHaveLength(3); // Header + 2 data rows\r\n\r\n        // Check content\r\n        expect(screen.getByText('Zerodha')).toBeInTheDocument();\r\n        expect(screen.getByText('Groww')).toBeInTheDocument();\r\n    });\r\n\r\n    it('should show Add New button and call showFinanceForm on click', () => {\r\n        render(<TrackerTable />);\r\n\r\n        const addButton = screen.getByText('Add New');\r\n        fireEvent.click(addButton);\r\n        expect(mockShowFinanceForm).toHaveBeenCalledWith('add');\r\n    });\r\n\r\n    it('should render list view on mobile', () => {\r\n        mockUseRootContext.mockReturnValue({\r\n            showFinanceForm: mockShowFinanceForm,\r\n            isMobile: true,\r\n            loader: { show: false },\r\n        });\r\n\r\n        render(<TrackerTable />);\r\n\r\n        // Mobile view doesn't use <table> usually in this implementation:\r\n        // {isMobile ? (<div className=\"space-y-2\">...</div>) : (<table>...</table>)}\r\n        expect(screen.queryByRole('table')).not.toBeInTheDocument();\r\n\r\n        // Check content existence\r\n        expect(screen.getByText('Zerodha')).toBeInTheDocument();\r\n    });\r\n\r\n    // We could test sorting/filtering but since logic is inside component state which is driven by TableControls callbacks,\r\n    // we would need to mock TableControls to trigger those callbacks or interact with real TableControls.\r\n    // Interacting with real TableControls is better for integration.\r\n    // But TableControls might be complex (dropdowns etc).\r\n    // Let's rely on basic rendering validation for now as requested by user (\"add test cases now\").\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TrackerTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TrackerTableEmptyState.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[442,445],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[442,445],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, fireEvent } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport TrackerTableEmptyState from './TrackerTableEmptyState';\r\nimport * as ROOT_CONTEXT from \"@/context/RootContext\";\r\n\r\nvi.mock(\"@/context/RootContext\", () => ({\r\n    useRootContext: vi.fn(),\r\n}));\r\n\r\ndescribe('TrackerTableEmptyState', () => {\r\n    const mockUseRootContext = ROOT_CONTEXT.useRootContext as any;\r\n    const mockShowFinanceForm = vi.fn();\r\n\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n        mockUseRootContext.mockReturnValue({ showFinanceForm: mockShowFinanceForm, isMobile: false });\r\n    });\r\n\r\n    it('should render message', () => {\r\n        render(<TrackerTableEmptyState />);\r\n        expect(screen.getByText(/Ready to rule your finances/)).toBeInTheDocument();\r\n    });\r\n\r\n    it('should call showFinanceForm on clicking Add New', () => {\r\n        render(<TrackerTableEmptyState />);\r\n        \r\n        const addButton = screen.getByText('Add New');\r\n        fireEvent.click(addButton);\r\n        \r\n        expect(mockShowFinanceForm).toHaveBeenCalledWith('add');\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TrackerTableEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TrackerTableRow.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[516,519],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[516,519],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen, fireEvent } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport TrackerTableRow from './TrackerTableRow';\r\nimport * as ROOT_CONTEXT from \"@/context/RootContext\";\r\n\r\nvi.mock(\"@/context/RootContext\", () => ({\r\n    useRootContext: vi.fn(),\r\n}));\r\n\r\nvi.mock(\"@/utils/utility\", () => ({\r\n    formattedAmount: (val: number) => `₹${val}`,\r\n}));\r\n\r\ndescribe('TrackerTableRow', () => {\r\n    const mockUseRootContext = ROOT_CONTEXT.useRootContext as any;\r\n    const mockShowFinanceForm = vi.fn();\r\n    const mockData = {\r\n        id: '1',\r\n        platform: 'Zerodha',\r\n        category: 'Stocks',\r\n        type: 'Equity',\r\n        owner: 'Alice',\r\n        investedAmount: 1000,\r\n        currentAmount: 1200,\r\n        updatedDate: '2023-01-01T10:00:00.000Z',\r\n    };\r\n    const mockMemberColorMap = new Map([['Alice', 'red']]);\r\n\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n        mockUseRootContext.mockReturnValue({\r\n            showFinanceForm: mockShowFinanceForm,\r\n            isMobile: false,\r\n            loader: { show: false }\r\n        });\r\n    });\r\n\r\n    it('should render row data in desktop view', () => {\r\n        // Need to wrap in table/tbody/tr structure or render just the row if it was just <tr>\r\n        // But TrackerTableRow returns <tr> in desktop mode.\r\n        render(\r\n            <table>\r\n                <tbody>\r\n                    <TrackerTableRow data={mockData} memberColorMap={mockMemberColorMap} />\r\n                </tbody>\r\n            </table>\r\n        );\r\n\r\n        expect(screen.getByText('Zerodha')).toBeInTheDocument();\r\n        expect(screen.getByText('Alice')).toBeInTheDocument();\r\n        expect(screen.getByText('₹1000')).toBeInTheDocument();\r\n        expect(screen.getByText('₹1200')).toBeInTheDocument();\r\n        expect(screen.getByText('20.00%')).toBeInTheDocument(); // Abs return %\r\n    });\r\n\r\n    it('should call edit on click', () => {\r\n        render(\r\n            <table>\r\n                <tbody>\r\n                    <TrackerTableRow data={mockData} memberColorMap={mockMemberColorMap} />\r\n                </tbody>\r\n            </table>\r\n        );\r\n\r\n\r\n        // Implementation: <button ...><FaEdit /></button>. No aria-label in desktop view code?\r\n        // Wait, looking at code: desktop view buttons are just icons.\r\n        // Let's rely on finding by role button.\r\n        // There are 2 buttons: Edit and Delete.\r\n        const editBtn = screen.getByRole('button', { name: \"Edit entry\" });\r\n        fireEvent.click(editBtn);\r\n\r\n        expect(mockShowFinanceForm).toHaveBeenCalledWith('edit', mockData);\r\n    });\r\n\r\n    it('should render card view in mobile', () => {\r\n        mockUseRootContext.mockReturnValue({\r\n            showFinanceForm: mockShowFinanceForm,\r\n            isMobile: true,\r\n            loader: { show: false }\r\n        });\r\n\r\n        render(<TrackerTableRow data={mockData} memberColorMap={mockMemberColorMap} />);\r\n\r\n        // In mobile it returns a div, no need for table wrapper\r\n        expect(screen.getByText('Zerodha')).toBeInTheDocument();\r\n        // Check for expand capability\r\n        expect(screen.getByLabelText('Expand details')).toBeInTheDocument();\r\n    });\r\n\r\n    it('should expand details on mobile', () => {\r\n        mockUseRootContext.mockReturnValue({\r\n            showFinanceForm: mockShowFinanceForm,\r\n            isMobile: true,\r\n            loader: { show: false }\r\n        });\r\n\r\n        render(<TrackerTableRow data={mockData} memberColorMap={mockMemberColorMap} />);\r\n\r\n        fireEvent.click(screen.getByLabelText('Expand details'));\r\n\r\n        // Now details should be visible (check for expanded class or existence of detail items)\r\n        expect(screen.getByText('Invested Amount')).toBeInTheDocument();\r\n        expect(screen.getByLabelText('Collapse details')).toBeInTheDocument();\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\TrackerTable\\TrackerTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\component.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\wrappers\\AuthProvider\\AuthProvider.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[254,257],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[254,257],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen } from '@testing-library/react';\r\nimport { describe, it, expect, vi } from 'vitest';\r\nimport AuthProvider from './AuthProvider';\r\n\r\n// Mock SessionProvider\r\nvi.mock(\"next-auth/react\", () => ({\r\n    SessionProvider: ({ children }: any) => <div data-testid=\"session-provider\">{children}</div>,\r\n}));\r\n\r\ndescribe('AuthProvider', () => {\r\n    it('should wrap children in SessionProvider', () => {\r\n        render(\r\n            <AuthProvider>\r\n                <div>Child</div>\r\n            </AuthProvider>\r\n        );\r\n        \r\n        expect(screen.getByTestId('session-provider')).toBeInTheDocument();\r\n        expect(screen.getByText('Child')).toBeInTheDocument();\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\wrappers\\AuthProvider\\AuthProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\wrappers\\ContentWrapper\\ContentWrapper.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\wrappers\\ContentWrapper\\ContentWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\wrappers\\ProtectedRoute\\ProtectedRoute.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[523,526],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[523,526],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[568,571],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[568,571],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[617,620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[617,620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { render, screen } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\n\r\nvi.mock(\"next-auth/react\", () => ({\r\n    useSession: vi.fn(),\r\n}));\r\n\r\nvi.mock(\"next/navigation\", () => ({\r\n    useRouter: vi.fn(),\r\n    usePathname: vi.fn(),\r\n}));\r\n\r\ndescribe('ProtectedRoute', () => {\r\n    const mockUseSession = useSession as any;\r\n    const mockUseRouter = useRouter as any;\r\n    const mockUsePathname = usePathname as any;\r\n    const mockPush = vi.fn();\r\n\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n        mockUseRouter.mockReturnValue({ push: mockPush });\r\n        mockUsePathname.mockReturnValue(\"/dashboard\");\r\n    });\r\n\r\n    it('should render children if authenticated', () => {\r\n        mockUseSession.mockReturnValue({ status: 'authenticated' });\r\n        \r\n        render(\r\n            <ProtectedRoute>\r\n                <div>Protected Content</div>\r\n            </ProtectedRoute>\r\n        );\r\n        \r\n        expect(screen.getByText(\"Protected Content\")).toBeInTheDocument();\r\n    });\r\n\r\n    it('should redirect to login if unauthenticated', () => {\r\n        mockUseSession.mockReturnValue({ status: 'unauthenticated' });\r\n        \r\n        const { container } = render(\r\n            <ProtectedRoute>\r\n                <div>Protected Content</div>\r\n            </ProtectedRoute>\r\n        );\r\n        \r\n        // Should not render content\r\n        expect(screen.queryByText(\"Protected Content\")).not.toBeInTheDocument();\r\n        expect(container).toBeEmptyDOMElement();\r\n        \r\n        // Should redirect\r\n        expect(mockPush).toHaveBeenCalledWith(\"/auth/signin?callbackUrl=/dashboard\");\r\n    });\r\n\r\n     it('should render nothing while loading', () => {\r\n        mockUseSession.mockReturnValue({ status: 'loading' });\r\n        \r\n        const { container } = render(\r\n            <ProtectedRoute>\r\n                <div>Protected Content</div>\r\n            </ProtectedRoute>\r\n        );\r\n        \r\n        expect(container).toBeEmptyDOMElement();\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\components\\wrappers\\ProtectedRoute\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\context\\FinContext.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[798,801],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[798,801],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":152,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4846,4849],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4846,4849],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":184,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":184,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5934,5937],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5934,5937],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { renderHook, waitFor, act } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport { FinProvider, useFinContext } from './FinContext';\r\nimport * as RootContext from './RootContext';\r\n\r\n// Mock dependencies\r\nvi.mock('./RootContext', () => ({\r\n    useRootContext: vi.fn(),\r\n}));\r\n\r\n// Mock utility\r\nvi.mock(\"@/utils/utility\", () => ({\r\n    getRandomColor: vi.fn(() => \"#FFFFFF\"),\r\n}));\r\n\r\n\r\n// Mock global fetch\r\nconst globalFetch = vi.fn();\r\nglobal.fetch = globalFetch;\r\n\r\n\r\n// Wrapper component\r\nconst wrapper = ({ children }: { children: React.ReactNode }) => (\r\n    <FinProvider>{children}</FinProvider>\r\n);\r\n\r\ndescribe('FinContext', () => {\r\n    const mockSetLoader = vi.fn();\r\n    const mockUseRootContext = RootContext.useRootContext as any;\r\n\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n        // Default root context\r\n        mockUseRootContext.mockReturnValue({\r\n            isUserRegistered: true,\r\n            userId: 'user-123',\r\n            setLoader: mockSetLoader,\r\n        });\r\n\r\n        // Default empty fetch\r\n        globalFetch.mockResolvedValue({\r\n            json: async () => ({ data: [] }),\r\n        });\r\n    });\r\n\r\n    it('should throw error if used outside provider', () => {\r\n         const originalConsoleError = console.error;\r\n         console.error = vi.fn();\r\n         \r\n         expect(() => {\r\n             renderHook(() => useFinContext());\r\n         }).toThrow(\"useFinContext must be used within a FinProvider\");\r\n         \r\n         console.error = originalConsoleError;\r\n    });\r\n\r\n    it('should fetch and process finance data on mount if registered', async () => {\r\n        const mockApiData = [\r\n            {\r\n                id: \"1\",\r\n                platform_type: \"Equity\",\r\n                platform_category: \"Stocks\",\r\n                amount_invested: 1000,\r\n                amount_current: 1200,\r\n                updated_date: \"2023-01-01\",\r\n                owner: \"Alice\",\r\n                platform: \"Zerodha\"\r\n            }\r\n        ];\r\n\r\n        globalFetch.mockResolvedValueOnce({\r\n            json: async () => ({ data: mockApiData }),\r\n        });\r\n\r\n        const { result } = renderHook(() => useFinContext(), { wrapper });\r\n\r\n        await waitFor(() => {\r\n            expect(result.current.financeData).toHaveLength(1);\r\n        });\r\n\r\n        const data = result.current.financeData[0];\r\n        expect(data.id).toBe(\"1\");\r\n        expect(data.type).toBe(\"Equity\"); // mapped from platform_type\r\n        expect(data.category).toBe(\"Stocks\"); // mapped\r\n        expect(data.investedAmount).toBe(1000);\r\n        expect(data.currentAmount).toBe(1200);\r\n\r\n        expect(mockSetLoader).toHaveBeenCalledWith({ show: true });\r\n        expect(mockSetLoader).toHaveBeenCalledWith({ show: false });\r\n    });\r\n\r\n    it('should compute summaries correctly', async () => {\r\n         const mockApiData = [\r\n            {\r\n                id: \"1\",\r\n                platform_type: \"Equity\",\r\n                platform_category: \"Stocks\",\r\n                amount_invested: 1000,\r\n                amount_current: 1200,\r\n                owner: \"Alice\",\r\n                platform: \"Zerodha\"\r\n            },\r\n            {\r\n                 id: \"2\",\r\n                 platform_type: \"SIP\",\r\n                 platform_category: \"Mutual Fund\",\r\n                 amount_invested: 1000,\r\n                 amount_current: 1000,\r\n                 owner: \"Bob\",\r\n                 platform: \"Groww\"\r\n            }\r\n        ];\r\n\r\n        globalFetch.mockResolvedValueOnce({\r\n            json: async () => ({ data: mockApiData }),\r\n        });\r\n\r\n        const { result } = renderHook(() => useFinContext(), { wrapper });\r\n\r\n        await waitFor(() => {\r\n            expect(result.current.financeData).toHaveLength(2);\r\n        });\r\n\r\n        const summary = result.current.financeSummaryData;\r\n        expect(summary.totalInvested).toBe(2000);\r\n        expect(summary.totalCurrent).toBe(2200);\r\n        expect(summary.totalAbsReturn).toBe(200);\r\n        expect(summary.totalAbsReturnPercentage).toBe(10); // (200/2000)*100\r\n        expect(summary.totalOwners).toBe(2);\r\n        expect(summary.totalPlatforms).toBe(2);\r\n    });\r\n\r\n    it('should add finance record', async () => {\r\n        const { result } = renderHook(() => useFinContext(), { wrapper });\r\n\r\n        globalFetch.mockResolvedValue({\r\n            json: async () => ({ data: [] }),\r\n        });\r\n\r\n        const newRecord = {\r\n             id: \"1\",\r\n             owner: \"Alice\",\r\n             category: \"Stocks\",\r\n             platform: \"Zerodha\",\r\n             type: \"Equity\",\r\n             investedAmount: 100,\r\n             currentAmount: 110,\r\n        };\r\n\r\n        let response;\r\n        await act(async () => {\r\n            response = await result.current.addFinance(newRecord as any);\r\n        });\r\n\r\n        expect(response).toEqual({ success: true, message: \"Finance data added successfully!\" });\r\n        expect(globalFetch).toHaveBeenCalledWith(\"/api/finance\", expect.objectContaining({\r\n            method: \"POST\",\r\n            body: expect.stringContaining(\"Alice\")\r\n        }));\r\n        // Should fetch again\r\n        // 1 (Initial GET) + 1 (POST) + 1 (Refresh GET) = 3\r\n        expect(globalFetch).toHaveBeenCalledTimes(3);\r\n    });\r\n\r\n     it('should update finance record', async () => {\r\n        const { result } = renderHook(() => useFinContext(), { wrapper });\r\n\r\n        globalFetch.mockResolvedValue({\r\n            json: async () => ({ data: [] }),\r\n        });\r\n\r\n         const record = {\r\n             id: \"1\",\r\n             owner: \"Alice\",\r\n             category: \"Stocks\",\r\n             platform: \"Zerodha\",\r\n             type: \"Equity\",\r\n             investedAmount: 100,\r\n             currentAmount: 110,\r\n        };\r\n\r\n        let response;\r\n        await act(async () => {\r\n            response = await result.current.updateFinance(record as any);\r\n        });\r\n\r\n        expect(response).toEqual({ success: true, message: \"Finance data updated successfully!\" });\r\n        expect(globalFetch).toHaveBeenCalledWith(\"/api/finance\", expect.objectContaining({\r\n            method: \"PUT\",\r\n        }));\r\n    });\r\n\r\n     it('should delete finance record', async () => {\r\n        const { result } = renderHook(() => useFinContext(), { wrapper });\r\n\r\n        globalFetch.mockResolvedValue({\r\n            json: async () => ({ data: [] }),\r\n        });\r\n\r\n        let response;\r\n        await act(async () => {\r\n            response = await result.current.deleteFinance(\"1\");\r\n        });\r\n\r\n        expect(response).toEqual({ success: true, message: \"Finance data deleted successfully!\" });\r\n        expect(globalFetch).toHaveBeenCalledWith(\"/api/finance\", expect.objectContaining({\r\n            method: \"DELETE\",\r\n            body: JSON.stringify({ id: \"1\" })\r\n        }));\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\context\\FinContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\context\\RootContext.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1011,1014],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1011,1014],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1064,1067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1064,1067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":79,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2856,2859],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2856,2859],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { act, waitFor, renderHook } from '@testing-library/react';\r\nimport { describe, it, expect, vi, beforeEach } from 'vitest';\r\nimport { RootProvider, useRootContext } from './RootContext';\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\n// Mock dependencies\r\nvi.mock(\"next-auth/react\", () => ({\r\n    useSession: vi.fn(),\r\n}));\r\n\r\nvi.mock(\"react-responsive\", () => ({\r\n    useMediaQuery: vi.fn(),\r\n}));\r\n\r\n// Mock react-toastify to avoid rendering issues and verify it's exported\r\nvi.mock(\"react-toastify\", () => ({\r\n    toast: { success: vi.fn(), error: vi.fn() },\r\n    ToastContainer: () => <div data-testid=\"toast-container\" />,\r\n}));\r\n\r\n// Mock global fetch\r\nconst globalFetch = vi.fn();\r\nglobal.fetch = globalFetch;\r\n\r\n// Wrapper component for renderHook\r\nconst wrapper = ({ children }: { children: React.ReactNode }) => (\r\n    <RootProvider>{children}</RootProvider>\r\n);\r\n\r\ndescribe('RootContext', () => {\r\n    const mockUseSession = useSession as any;\r\n    const mockUseMediaQuery = useMediaQuery as any;\r\n\r\n    beforeEach(() => {\r\n        vi.clearAllMocks();\r\n        // Default session: not logged in\r\n        mockUseSession.mockReturnValue({ data: null, status: \"unauthenticated\" });\r\n        // Default media query: desktop\r\n        mockUseMediaQuery.mockReturnValue(false);\r\n        // Default fetch mismatch\r\n        globalFetch.mockResolvedValue({\r\n            json: async () => ({ data: {} }),\r\n        });\r\n    });\r\n\r\n    it('should provide default values', () => {\r\n        const { result } = renderHook(() => useRootContext(), { wrapper });\r\n\r\n        expect(result.current.financePopupState).toEqual({ isVisible: false });\r\n        expect(result.current.isMobile).toBe(false);\r\n        expect(result.current.loader).toEqual({ show: false });\r\n        expect(result.current.name).toBe(\"\");\r\n        expect(result.current.platforms).toEqual([]);\r\n    });\r\n\r\n    it('should throw error if used outside provider', () => {\r\n        // Suppress console.error for this specific test as React will log validation error\r\n        const originalConsoleError = console.error;\r\n        console.error = vi.fn();\r\n        \r\n        expect(() => {\r\n            renderHook(() => useRootContext());\r\n        }).toThrow(\"useRootContext must be used within a RootProvider\");\r\n\r\n        console.error = originalConsoleError;\r\n    });\r\n\r\n    it('should detect mobile device', () => {\r\n        mockUseMediaQuery.mockReturnValue(true);\r\n        const { result } = renderHook(() => useRootContext(), { wrapper });\r\n        expect(result.current.isMobile).toBe(true);\r\n    });\r\n\r\n    it('should handle finance popup state changes', () => {\r\n        const { result } = renderHook(() => useRootContext(), { wrapper });\r\n\r\n        act(() => {\r\n            result.current.showFinanceForm('add', { id: '1' } as any);\r\n        });\r\n\r\n        expect(result.current.financePopupState).toEqual({\r\n            isVisible: true,\r\n            mode: 'add',\r\n            data: { id: '1' }\r\n        });\r\n\r\n        act(() => {\r\n            result.current.hideFinanceForm();\r\n        });\r\n\r\n        expect(result.current.financePopupState).toEqual({ isVisible: false });\r\n    });\r\n\r\n    it('should register user automatically when session email exists', async () => {\r\n        mockUseSession.mockReturnValue({\r\n            data: { user: { email: 'test@example.com', name: 'Test User' } },\r\n            status: \"authenticated\",\r\n        });\r\n\r\n        globalFetch.mockResolvedValueOnce({\r\n            json: async () => ({\r\n                data: { id: 'user-123', name: 'API User Name', email: 'test@example.com' }\r\n            }),\r\n        });\r\n\r\n        const { result } = renderHook(() => useRootContext(), { wrapper });\r\n\r\n        // Initial check might be empty depending on effect timing\r\n        // But effect should run and trigger update\r\n        await waitFor(() => {\r\n            expect(result.current.name).toBe('API User Name');\r\n            expect(result.current.userId).toBe('user-123');\r\n        });\r\n\r\n        // Verify fetch call\r\n        expect(globalFetch).toHaveBeenCalledWith(\"/api/profile\", expect.objectContaining({\r\n            method: \"POST\",\r\n            body: JSON.stringify({ email: 'test@example.com', name: 'Test User' })\r\n        }));\r\n    });\r\n\r\n    it('should fetch configurations when user is registered', async () => {\r\n        // Setup state where user becomes registered\r\n        mockUseSession.mockReturnValue({\r\n            data: { user: { email: 'test@example.com', name: 'Test User' } },\r\n            status: \"authenticated\",\r\n        });\r\n\r\n        // Mock Register response\r\n        globalFetch.mockResolvedValueOnce({\r\n            json: async () => ({\r\n                data: { id: 'user-123', name: 'API User Name' }\r\n            }),\r\n        });\r\n\r\n        // Mock Config response\r\n        globalFetch.mockResolvedValueOnce({\r\n             json: async () => ({\r\n                data: { platforms: [{ name: 'Zerodha', id: 'p1' }] }\r\n            }),\r\n        });\r\n\r\n        const { result } = renderHook(() => useRootContext(), { wrapper });\r\n\r\n        // Wait for registration\r\n        await waitFor(() => {\r\n            expect(result.current.name).toBe('API User Name');\r\n        });\r\n\r\n        // Effect for config should trigger after registration\r\n        await waitFor(() => {\r\n            expect(result.current.platforms).toHaveLength(1);\r\n            expect(result.current.platforms?.[0].name).toBe('Zerodha');\r\n        });\r\n\r\n        expect(globalFetch).toHaveBeenCalledWith(\r\n            expect.stringContaining(\"/api/finance/config\"), \r\n            expect.objectContaining({ method: \"GET\" })\r\n        );\r\n    });\r\n\r\n    it('should update loader state', () => {\r\n        const { result } = renderHook(() => useRootContext(), { wrapper });\r\n\r\n        act(() => {\r\n            result.current.setLoader({ show: true, loadingMessage: \"Loading...\" });\r\n        });\r\n\r\n        expect(result.current.loader).toEqual({ show: true, loadingMessage: \"Loading...\" });\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\context\\RootContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\lib\\authOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\utils\\constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\utils\\utility.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3395,3398],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3395,3398],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, it, expect } from 'vitest';\r\nimport { \r\n  formattedAmount, \r\n  shuffleArrayInPlace, \r\n  constructMemberWiseData, \r\n  constructCategoryWiseData,\r\n  getUniqueColor\r\n} from './utility';\r\nimport { FinanceFormDataType } from '@/components/component.types';\r\n\r\ndescribe('formattedAmount', () => {\r\n  it('should format integer amount to have no decimal places', () => {\r\n    // 100 -> ₹100\r\n    const result = formattedAmount(100);\r\n    // Use replace/regex to handle potential non-breaking spaces or different currency symbols in environment\r\n    expect(result.replace(/\\s/g, '')).toMatch(/100$/); \r\n  });\r\n\r\n  it('should format decimal amount with 2 decimal places', () => {\r\n    // 123.45 -> ₹123.45\r\n    expect(formattedAmount(123.45)).toMatch(/123.45/);\r\n  });\r\n\r\n  it('should format amount with 1 decimal place to 2 decimal places', () => {\r\n    // 100.5 -> ₹100.50\r\n    expect(formattedAmount(100.5)).toMatch(/100.50/);\r\n  });\r\n\r\n  it('should handles zero', () => {\r\n    expect(formattedAmount(0).replace(/\\s/g, '')).toMatch(/0$/);\r\n  });\r\n});\r\n\r\ndescribe('shuffleArrayInPlace', () => {\r\n  it('should shuffle array and retain logic elements', () => {\r\n    const arr = [1, 2, 3, 4, 5];\r\n    const originalArr = [...arr];\r\n    const shuffled = shuffleArrayInPlace(arr);\r\n    \r\n    // Check lengths\r\n    expect(shuffled).toHaveLength(originalArr.length);\r\n    // Check elements existence\r\n    originalArr.forEach(item => {\r\n      expect(shuffled).toContain(item);\r\n    });\r\n    // Note: It's possible for shuffled array to end up same order as original,\r\n    // so strictly expecting not.toEqual might be flaky. \r\n    // Just verifying in-place modification and content.\r\n    expect(shuffled).toBe(arr); // It returns same reference\r\n  });\r\n});\r\n\r\ndescribe('Data Construction Helpers', () => {\r\n  const mockFinanceData: FinanceFormDataType[] = [\r\n    {\r\n      id: \"1\",\r\n      owner: \"Alice\",\r\n      category: \"Stocks\",\r\n      platform: \"Zerodha\",\r\n      type: \"Equity\",\r\n      investedAmount: 1000,\r\n      currentAmount: 1200,\r\n      updatedDate: \"2023-01-01\"\r\n    },\r\n    {\r\n      id: \"2\",\r\n      owner: \"Alice\",\r\n      category: \"Stocks\",\r\n      platform: \"Tijori\",\r\n      type: \"Equity\",\r\n      investedAmount: 500,\r\n      currentAmount: 550,\r\n      updatedDate: \"2023-01-02\"\r\n    },\r\n    {\r\n      id: \"3\",\r\n      owner: \"Bob\",\r\n      category: \"MF\",\r\n      platform: \"Groww\",\r\n      type: \"SIP\",\r\n      investedAmount: 2000,\r\n      currentAmount: 1900,\r\n      updatedDate: \"2023-01-01\"\r\n    }\r\n  ];\r\n\r\n  describe('constructMemberWiseData', () => {\r\n    it('should aggregate data by owner', () => {\r\n      const result = constructMemberWiseData(mockFinanceData);\r\n      \r\n      expect(result).toHaveLength(2); // Alice and Bob\r\n      \r\n      // Alice: 1000+500 invested, 1200+550 current\r\n      const alice = result.find(r => r.owner === \"Alice\");\r\n      expect(alice).toBeDefined();\r\n      expect(alice?.totalInvestedAmount).toBe(1500);\r\n      expect(alice?.totalCurrentAmount).toBe(1750);\r\n      expect(alice?.totalAbsReturn).toBe(250);\r\n      // Percentage: (250/1500)*100 = 16.666... -> 16.67\r\n      expect(alice?.totalAbsReturnPercentage).toBe(16.67);\r\n      expect(alice?.fill).toBeDefined(); // Color assigned\r\n    });\r\n\r\n    it('should handle single empty or missing owner entries properly', () => {\r\n        const data = [{ ...mockFinanceData[0], owner: undefined as any }];\r\n        const result = constructMemberWiseData(data);\r\n        expect(result).toHaveLength(0);\r\n    });\r\n  });\r\n\r\n  describe('constructCategoryWiseData', () => {\r\n    it('should aggregate data by category', () => {\r\n      const result = constructCategoryWiseData(mockFinanceData);\r\n      \r\n      expect(result).toHaveLength(2); // Stocks and MF\r\n      \r\n      // Stocks: 1000+500, 1200+550\r\n      const stocks = result.find(r => r.category === \"Stocks\");\r\n      expect(stocks).toBeDefined();\r\n      expect(stocks?.totalInvestedAmount).toBe(1500);\r\n      expect(stocks?.totalCurrentAmount).toBe(1750);\r\n      \r\n      // MF: 2000, 1900\r\n      const mf = result.find(r => r.category === \"MF\");\r\n      expect(mf).toBeDefined();\r\n      expect(mf?.totalInvestedAmount).toBe(2000);\r\n      expect(mf?.totalCurrentAmount).toBe(1900);\r\n      expect(mf?.totalAbsReturn).toBe(-100);\r\n    });\r\n\r\n    it('should assign persistent colors', () => {\r\n      const result1 = constructCategoryWiseData(mockFinanceData);\r\n      const stocksColor1 = result1.find(r => r.category === \"Stocks\")?.fill;\r\n      \r\n      const result2 = constructCategoryWiseData(mockFinanceData);\r\n      const stocksColor2 = result2.find(r => r.category === \"Stocks\")?.fill;\r\n      \r\n      expect(stocksColor1).toBe(stocksColor2);\r\n    });\r\n  });\r\n});\r\n\r\ndescribe('Colors', () => {\r\n  it('should return a string color', () => {\r\n    const color = getUniqueColor();\r\n    expect(typeof color).toBe('string');\r\n    expect(color).toMatch(/^#/);\r\n  });\r\n\r\n  it('should return different colors on subsequent calls', () => {\r\n      // It might return same if shuffled array is small or refreshed, but generally should differ in small sequence\r\n      const c1 = getUniqueColor();\r\n      const c2 = getUniqueColor();\r\n      // This is probabilistic if array is size 1, but for standard palettes it should differ.\r\n      // If fails, it might be due to chance or small palette.\r\n      // Given CHART_COLORS usually has many, this is safe.\r\n      expect(c1).not.toBe(c2);\r\n  });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\MyDevWork\\remote_repos\\Fullstack\\fin-tracker\\src\\utils\\utility.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]